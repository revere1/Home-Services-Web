{"remainingRequest":"D:\\Ramesh\\revere\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--8-1!D:\\Ramesh\\revere\\node_modules\\@swimlane\\ngx-ui\\release\\components\\drawer\\drawer.service.js","dependencies":[{"path":"D:\\Ramesh\\revere\\node_modules\\@swimlane\\ngx-ui\\release\\components\\drawer\\drawer.service.js","mtime":1527492758353},{"path":"D:\\Ramesh\\revere\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1527492760843},{"path":"D:\\Ramesh\\revere\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1527492734929}],"contextDependencies":[],"result":["import { __extends } from \"tslib\";\nimport { __decorate } from \"tslib\";\nimport { __metadata } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { InjectionService, InjectionRegisteryService } from '../../services';\nimport { DrawerComponent } from '.';\nimport { OverlayService } from '../overlay';\nvar DrawerService = /*@__PURE__*/ (function (_super) {\n    __extends(DrawerService, _super);\n    function DrawerService(injectionService, overlayService) {\n        var _this = _super.call(this, injectionService) || this;\n        _this.overlayService = overlayService;\n        _this.type = DrawerComponent;\n        _this.defaults = {\n            inputs: {\n                direction: 'left'\n            }\n        };\n        _this.zIndex = 995;\n        _this.size = 80;\n        return _this;\n    }\n    DrawerService.prototype.create = function (bindings) {\n        var component = _super.prototype.create.call(this, bindings);\n        this.createSubscriptions(component);\n        return component;\n    };\n    DrawerService.prototype.destroy = function (component) {\n        var _this = this;\n        // race case clicking fast errors here\n        if (component && component.instance) {\n            component.instance.size = 0;\n        }\n        setTimeout(function () {\n            _this.zIndex = _this.zIndex - 2;\n            _this.size = _this.size + 10;\n            _this.overlayService.removeTriggerComponent(component);\n            _super.prototype.destroy.call(_this, component);\n        }, 10);\n    };\n    DrawerService.prototype.assignDefaults = function (bindings) {\n        bindings = _super.prototype.assignDefaults.call(this, bindings);\n        if (!bindings.inputs.zIndex) {\n            this.zIndex = (this.overlayService.instance) ?\n                this.overlayService.instance.zIndex + 3 :\n                this.zIndex + 2;\n            bindings.inputs.zIndex = this.zIndex;\n        }\n        this.size = this.size - 10;\n        if (!bindings.inputs.size) {\n            bindings.inputs.size = this.size;\n        }\n        return bindings;\n    };\n    DrawerService.prototype.createSubscriptions = function (component) {\n        var _this = this;\n        var overlay = this.overlayService.show({\n            triggerComponent: component,\n            zIndex: this.zIndex\n        });\n        var closeSub;\n        var overlaySub;\n        var kill = function (c) {\n            if (component !== c) {\n                return;\n            }\n            closeSub.unsubscribe();\n            overlaySub.unsubscribe();\n            _this.destroy(component);\n        };\n        closeSub = component.instance.close.subscribe(kill.bind(this, component));\n        overlaySub = this.overlayService.click.subscribe(kill);\n    };\n    return DrawerService;\n}(InjectionRegisteryService));\nexport { DrawerService };\n//# sourceMappingURL=drawer.service.js.map\n",null]}